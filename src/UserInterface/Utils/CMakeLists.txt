ADD_LIBRARY(Utils
        ProgressBar.cpp
        FileDialogUtils.cpp
        ProcessRunner/ProcessRunner.cpp
)

TARGET_LINK_LIBRARIES(Utils PUBLIC
        spdlog::spdlog_header_only
        Qt${QT_VERSION_MAJOR}::Core
        Qt${QT_VERSION_MAJOR}::Widgets
)

TARGET_INCLUDE_DIRECTORIES(Utils PUBLIC
        ${CMAKE_CURRENT_SOURCE_DIR}
        ${CMAKE_CURRENT_SOURCE_DIR}/QVTKProgressBar
        ${CMAKE_CURRENT_SOURCE_DIR}/ProcessRunner
)

# Autogenerated uic files
if (WIN32)
    TARGET_INCLUDE_DIRECTORIES(Utils INTERFACE
            ${CMAKE_CURRENT_BINARY_DIR}/Utils_autogen/include_Release
    )
else ()
    TARGET_INCLUDE_DIRECTORIES(Utils INTERFACE
            ${CMAKE_CURRENT_BINARY_DIR}/Utils_autogen/include
    )
endif ()